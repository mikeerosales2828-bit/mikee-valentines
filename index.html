<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Will you be my Valentine?</title>

<style>
body{
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  background:#ffe6ee;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  margin:0;
  padding:18px;
}
.card{
  background:#fff;
  width:min(700px,100%);
  border-radius:22px;
  box-shadow:0 15px 40px rgba(0,0,0,.15);
  padding:28px 22px;
  text-align:center;
}
h1{font-size:38px;margin:10px 0}
p{font-size:18px;margin:0 0 14px;opacity:.9}
.capy{
  width:160px;
  margin:0 auto 10px;
  display:block;
  pointer-events:none;
}
.buttons{
  display:flex;
  justify-content:center;
  gap:14px;
  margin-top:10px;
}
button{
  font-size:20px;
  padding:12px 22px;
  border-radius:14px;
  border:none;
  cursor:pointer;
  transition:transform .2s ease;
}
#yes{background:#ff2d55;color:#fff}
#no{background:#e9e9ef}
.msg{margin-top:14px;font-size:16px;min-height:22px}

/* date picker */
#datePicker{display:none;margin-top:16px}
.dateBtns{display:flex;flex-wrap:wrap;gap:10px;justify-content:center}
.dateBtn{
  background:#fff0f5;
  border:1px solid rgba(0,0,0,.08);
}
.effect-pop{animation:pop .35s ease}
@keyframes pop{
  0%{transform:scale(1)}
  60%{transform:scale(1.12)}
  100%{transform:scale(1.06)}
}

/* scratch cards */
#giftsWrap{display:none;margin-top:18px}
.giftsGrid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
@media(max-width:520px){.giftsGrid{grid-template-columns:1fr}}
.scratchCard{
  position:relative;
  border-radius:16px;
  overflow:hidden;
  box-shadow:0 10px 22px rgba(0,0,0,.12);
}
.scratchReveal{
  width:100%;
  height:170px;
  object-fit:cover;
  display:block;
  pointer-events:none;
}
.scratchCanvas{
  position:absolute;
  inset:0;
  touch-action:none;
}
.scratchHint{
  position:absolute;
  bottom:10px;
  left:10px;
  right:10px;
  background:rgba(255,255,255,.75);
  padding:6px;
  border-radius:999px;
  font-size:12px;
}
</style>
</head>

<body>
<div class="card">

<img id="capy" class="capy"
src="https://media.giphy.com/media/9d3LQ6TdV2Flo8ODTU/giphy.gif">

<h1>ğŸ’˜ Will you be my Valentine?</h1>
<p>I have a very important question for youâ€¦</p>

<div class="buttons">
  <button id="yes">Yes â¤ï¸</button>
  <button id="no">No ğŸ˜•</button>
</div>

<div class="msg" id="msg"></div>

<!-- DATE PICKER -->
<div id="datePicker">
  <p><strong>Choose our Valentine plan ğŸ‘€</strong></p>
  <div class="dateBtns">
    <button class="dateBtn" data-choice="ğŸ Dinner">ğŸ Dinner</button>
    <button class="dateBtn" data-choice="ğŸ¬ Movie">ğŸ¬ Movie</button>
    <button class="dateBtn" data-choice="ğŸ§º Picnic">ğŸ§º Picnic</button>
    <button class="dateBtn" data-choice="ğŸ Surprise">ğŸ Surprise</button>
  </div>
  <div class="msg" id="dateResult"></div>
</div>

<!-- SCRATCH GIFTS -->
<div id="giftsWrap">
  <p><strong>Scratch to reveal your mystery gifts ğŸ</strong></p>
  <div class="giftsGrid">
    <div class="scratchCard">
      <img class="scratchReveal" src="gift1.jpg">
      <canvas class="scratchCanvas"></canvas>
      <div class="scratchHint">scratch me âœ¨</div>
    </div>
    <div class="scratchCard">
      <img class="scratchReveal" src="gift2.jpg">
      <canvas class="scratchCanvas"></canvas>
      <div class="scratchHint">scratch me âœ¨</div>
    </div>
    <div class="scratchCard">
      <img class="scratchReveal" src="gift3.jpg">
      <canvas class="scratchCanvas"></canvas>
      <div class="scratchHint">scratch me âœ¨</div>
    </div>
  </div>
</div>

<!-- ğŸ¶ SONG -->
<audio id="song" src="song.mp3"></audio>

</div>

<script>
const yes=document.getElementById("yes");
const no=document.getElementById("no");
const msg=document.getElementById("msg");
const capy=document.getElementById("capy");
const datePicker=document.getElementById("datePicker");
const dateResult=document.getElementById("dateResult");
const giftsWrap=document.getElementById("giftsWrap");
const song=document.getElementById("song");

song.volume = 0.5;

const noLines=["Are you sure? ğŸ˜³","Think again ğŸ¥º","Capybara disapprovesâ€¦","Last chance ğŸ’”"];
let n=0;

no.onclick=()=>{
  msg.textContent=noLines[n++%noLines.length];
  yes.style.transform=`scale(${1+n*.1})`;
};

yes.onclick=()=>{
  msg.textContent="YAYYY ğŸ’•";
  capy.src="https://media.giphy.com/media/l0MYC0LajbaPoEADu/giphy.gif";
  datePicker.style.display="block";
  confetti();
};

document.querySelectorAll(".dateBtn").forEach(btn=>{
  btn.onclick=()=>{
    dateResult.textContent=`${btn.dataset.choice} it is ğŸ’˜`;
    btn.classList.add("effect-pop");

    giftsWrap.style.display="block";
    initScratch();
    confetti();

    // ğŸ¶ play song after date is picked
    song.play();
  };
});

function confetti(){
  for(let i=0;i<20;i++){
    const e=document.createElement("div");
    e.textContent=["ğŸ’–","âœ¨","ğŸ‰"][i%3];
    e.style.position="fixed";
    e.style.left=Math.random()*100+"vw";
    e.style.top="-20px";
    e.style.fontSize="18px";
    e.style.transition="transform 1.5s linear,opacity 1.5s";
    document.body.appendChild(e);
    requestAnimationFrame(()=>{e.style.transform="translateY(110vh)";e.style.opacity=0});
    setTimeout(()=>e.remove(),1500);
  }
}

function initScratch(){
  document.querySelectorAll(".scratchCanvas").forEach(c=>{
    const ctx=c.getContext("2d");
    const r=c.getBoundingClientRect();
    c.width=r.width; c.height=r.height;
    ctx.fillStyle="#ccc"; ctx.fillRect(0,0,r.width,r.height);
    ctx.globalCompositeOperation="destination-out";
    let down=false;
    c.onpointerdown=()=>down=true;
    c.onpointerup=()=>down=false;
    c.onpointermove=e=>{
      if(!down) return;
      ctx.beginPath();
      ctx.arc(e.offsetX,e.offsetY,18,0,Math.PI*2);
      ctx.fill();
    };
  });
}
</script>
</body>
</html>
